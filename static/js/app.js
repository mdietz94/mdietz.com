// Generated by CoffeeScript 1.6.2
var currentPage, locked, moveLeft, moveRight, onPageMoveEnd, updatePages;

currentPage = 0;

locked = false;

updatePages = function() {
  switch (currentPage) {
    case -1:
      $("#content-left").show();
      break;
    case 0:
      $("#content-main").show();
      break;
    default:
      $("#content-right").show();
  }
  $('body').animate({
    scrollTop: 0
  }, 300);
  $("#content-main").css('left', "" + (currentPage * -110) + "%");
  $("#content-left").css('left', "" + ((1 + currentPage) * -110) + "%");
  $("#content-right").css('left', "" + ((-1 + currentPage) * -110) + "%");
  if (currentPage === -1) {
    return $("#page-left").addClass("disabled");
  } else if (currentPage === 1) {
    return $("#page-right").addClass("disabled");
  } else {
    $("#page-right").removeClass("disabled");
    return $("#page-left").removeClass("disabled");
  }
};

onPageMoveEnd = function() {
  locked = false;
  switch (currentPage) {
    case -1:
      $("#page").html("Resum&eacute;");
      $("#content-main").hide();
      return $("#content-right").hide();
    case 0:
      $("#page").html("Projects");
      $("#content-left").hide();
      return $("#content-right").hide();
    default:
      $("#page").html("Contact Information");
      $("#content-main").hide();
      return $("#content-left").hide();
  }
};

moveLeft = function() {
  $("#usage").fadeOut(1000);
  if (!locked && currentPage > -1) {
    locked = true;
    currentPage -= 1;
    return updatePages();
  }
};

moveRight = function() {
  $("#usage").fadeOut(1000);
  if (!locked && currentPage < 1) {
    locked = true;
    currentPage += 1;
    return updatePages();
  }
};

$(function() {
  updatePages();
  onPageMoveEnd();
  $("#content-right").on('webkitTransitionEnd', onPageMoveEnd);
  $("#content-left").on('webkitTransitionEnd', onPageMoveEnd);
  $("#content-main").on('webkitTransitionEnd', onPageMoveEnd);
  $("#content-right").on('transitionend', onPageMoveEnd);
  $("#content-left").on('transitionend', onPageMoveEnd);
  $("#content-main").on('transitionend', onPageMoveEnd);
  $("#content-right").on('oTransitionEnd', onPageMoveEnd);
  $("#content-left").on('oTransitionEnd', onPageMoveEnd);
  $("#content-main").on('oTransitionEnd', onPageMoveEnd);
  $('body').keydown(function(e) {
    switch (e.which) {
      case 37:
        return moveLeft();
      case 39:
        return moveRight();
    }
  });
  $("#page-right").mousedown(function() {
    return moveRight();
  });
  return $("#page-left").mousedown(function() {
    return moveLeft();
  });
});

$(document).on('pageinit', function() {
  $(window).bind("swipeleft", moveRight);
  $(window).bind("swiperight", moveLeft);
  $(window).on("orientationchange", function(e) {
    if (e.orientation === "portrait") {
      return alert("This webpage is optimized for landscape view.");
    }
  });
  return $(window).orientationchange();
});
